!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i(require("d3")):"function"==typeof define&&define.amd?define(["d3"],i):"object"==typeof exports?exports.punchcard=i(require("d3")):t.punchcard=i(t.d3)}(this,function(t){return function(t){function i(e){if(r[e])return r[e].exports;var n=r[e]={exports:{},id:e,loaded:!1};return t[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var r={};return i.m=t,i.c=r,i.p="",i(0)}([function(t,i,r){"use strict";function e(t){return this instanceof e?(Object.assign(this,a,t),void this._init()):new e(t)}var n=r(1),a={target:"#chart",width:600,height:400,margin:{top:20,right:20,bottom:40,left:100},color:"#444",xticks:["12a","1a","2a","3a","4a","5a","6a","7a","8a","9a","10a","11a","12p","1p","2p","3p","4p","5p","6p","7p","8p","9p","10p","11p"],yticks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};t.exports=e;var s=e.prototype;s._init=function(){var t=this,i=this.width,r=this.height,e=this.margin,a=this.innerWidth=i-e.left-e.right,s=this.innerHeight=r-e.top-e.bottom,o=this.unitWidth=a/24,c=this.unitHeight=s/7;this.unitSize=Math.min(o,c),this.chart=n.select(this.target).append("svg").attr("width",i).attr("height",r).append("g").attr("transform","translate("+e.left+", "+e.top+")"),this.x=n.scale.linear().domain([0,23]).range([o/2,a-o/2]),this.y=n.scale.linear().domain([0,6]).range([c/2,s-c/2]),this.xAxis=n.svg.axis().orient("bottom").scale(this.x).ticks(24).tickFormat(function(i,r){return t.xticks[r]}),this.yAxis=n.svg.axis().orient("left").scale(this.y).ticks(7).tickFormat(function(i,r){return t.yticks[r]}),this._renderAxis()},s.render=function(t){t=(t||[]).filter(function(t){return Array.isArray(t)&&3===t.length&&t[0]>=0&&t[0]<=6&&t[1]>=0&&t[1]<=23}),this.data=t,this._renderCard()},s._renderAxis=function(){this.chart.append("g").attr("class","x axis").attr("transform","translate(0, "+this.innerHeight+")").call(this.xAxis),this.chart.append("g").attr("class","y axis").call(this.yAxis)},s._renderCard=function(){var t=this,i=this.data,r=n.max(i,function(t){return t[2]});this.r=n.scale.sqrt().domain([0,r]).range([0,this.unitSize/2]);var e=this.chart.selectAll("circle").data(i),a=[e,e.enter().append("circle")];a.forEach(function(i){i.attr("cx",function(i){return t.x(i[1])}).attr("cy",function(i){return t.y(i[0])}).attr("r",function(i){return t.r(i[2])}).style("fill",t.color)}),e.exit().remove()},s.clear=function(){this.chart.selectAll("*").remove()}},function(i,r){i.exports=t}])});